# «Введение в Terraform» - Дрибноход Давид

### Задание 1

1. Перейдите в каталог [**src**](https://github.com/netology-code/ter-homeworks/tree/main/01/src). Скачайте все необходимые зависимости, использованные в проекте.
![image](https://github.com/DrDavidN/terhw01/assets/128225763/02d88e86-0c51-475a-812a-6e61653b577d)
2. Изучите файл **.gitignore**. В каком terraform-файле, согласно этому .gitignore, допустимо сохранить личную, секретную информацию?

Ответ: согласно содержимому файла, секретную информацию можно хранить в файле personal.auto.tfvars  

3. Выполните код проекта. Найдите  в state-файле секретное содержимое созданного ресурса **random_password**, пришлите в качестве ответа конкретный ключ и его значение.

Инициализировал terraform

![image](https://github.com/DrDavidN/terhw01/assets/128225763/e9e35277-8efc-4666-8ec2-c3ce920ee194)

Применил

![image](https://github.com/DrDavidN/terhw01/assets/128225763/267f412b-e8af-4cef-b8fa-3cb40d433a82)

Вывел содержимое файла tfstate, ключ result содержит сгенерированный пароль.

![image](https://github.com/DrDavidN/terhw01/assets/128225763/0b3bc208-7435-49b5-ad8e-0d4eb303e699)

4. Раскомментируйте блок кода, примерно расположенный на строчках 29–42 файла **main.tf**.
Выполните команду ```terraform validate```. Объясните, в чём заключаются намеренно допущенные ошибки. Исправьте их.
![image](https://github.com/DrDavidN/terhw01/assets/128225763/ea677c87-8822-47e9-acc9-0a063d019f26)

Файл main.tf содержит ошибки:
- Отсутствует имя ресурса, дописал "nginx" в первой ошибке
- в имени ресура допущена ошибка, исправил на "nginx" вместо "1nginx"
- исправил ошибки в ключе name, убрал _FAKE и заменил букву T на t в ключе resulT
![image](https://github.com/DrDavidN/terhw01/assets/128225763/08f95e04-9654-409e-8355-877435c47957)

5. Выполните код. В качестве ответа приложите: исправленный фрагмент кода и вывод команды ```docker ps```.
![image](https://github.com/DrDavidN/terhw01/assets/128225763/d0a7b7bd-60b8-4dfb-97d8-84b762f67825)
![image](https://github.com/DrDavidN/terhw01/assets/128225763/2c8fe485-8323-4c4a-ae39-b5396c4f459f)
![image](https://github.com/DrDavidN/terhw01/assets/128225763/fea5807c-e9f6-4bc2-9e58-6c24c5fb1153)

6. Замените имя docker-контейнера в блоке кода на ```hello_world```. Не перепутайте имя контейнера и имя образа. Мы всё ещё продолжаем использовать name = "nginx:latest". Выполните команду ```terraform apply -auto-approve```.
Объясните своими словами, в чём может быть опасность применения ключа  ```-auto-approve```. Догадайтесь или нагуглите зачем может пригодиться данный ключ? В качестве ответа дополнительно приложите вывод команды ```docker ps```.

Так как используется один и тот же образ, предыдущий контейнер был удален и был создан новый контейнер.

Опасность команды ```terraform apply -auto-approve``` заключается в том, что будет выполняться пропуск планирования ресурсов и вопрос о применении кода не будет задан, что приведет к потере уже развернутых ресурсов с тем же образом. В моем случае был удален контейнер и создан новый. Данная опция используется для автоматизации процесса, чтобы исключить участие оператора.

![image](https://github.com/DrDavidN/terhw01/assets/128225763/51026d0d-74c2-4574-aad9-cb53ab5405a0)

7. Уничтожьте созданные ресурсы с помощью **terraform**. Убедитесь, что все ресурсы удалены. Приложите содержимое файла **terraform.tfstate**. 

Для уничтожения ресурсов использую команду ```terraform destroy```
![image](https://github.com/DrDavidN/terhw01/assets/128225763/1bbb4678-19a3-434b-a53a-2782d91dc038)
![image](https://github.com/DrDavidN/terhw01/assets/128225763/5def470c-870d-4fd4-a69c-793bfc864a37)

8. Объясните, почему при этом не был удалён docker-образ **nginx:latest**. Ответ **обязательно** подкрепите строчкой из документации [**terraform провайдера docker**](https://docs.comcloud.xyz/providers/kreuzwerker/docker/latest/docs).  (ищите в классификаторе resource docker_image )

Образ **nginx:latest** не был удален потому, что в описании ресурса образа есть настройка keep_locally = true.
![image](https://github.com/DrDavidN/terhw01/assets/128225763/1cd7b691-a697-445c-bdda-1111022c4544)

------

## Дополнительное задание (со звёздочкой*)

**Настоятельно рекомендуем выполнять все задания со звёздочкой.** Они помогут глубже разобраться в материале.   
Задания со звёздочкой дополнительные, не обязательные к выполнению и никак не повлияют на получение вами зачёта по этому домашнему заданию. 

### Задание 2*

1. Изучите в документации provider [**Virtualbox**](https://docs.comcloud.xyz/providers/shekeriev/virtualbox/latest/docs) от 
shekeriev.
2. Создайте с его помощью любую виртуальную машину. Чтобы не использовать VPN, советуем выбрать любой образ с расположением в GitHub из [**списка**](https://www.vagrantbox.es/).

В качестве ответа приложите plan для создаваемого ресурса и скриншот созданного в VB ресурса. 

------

### Правила приёма работы

Домашняя работа оформляется в отдельном GitHub-репозитории в файле README.md.   
Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

### Критерии оценки

Зачёт ставится, если:

* выполнены все задания,
* ответы даны в развёрнутой форме,
* приложены соответствующие скриншоты и файлы проекта,
* в выполненных заданиях нет противоречий и нарушения логики.

На доработку работу отправят, если:

* задание выполнено частично или не выполнено вообще,
* в логике выполнения заданий есть противоречия и существенные недостатки. 
